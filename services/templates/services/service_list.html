{% extends "base.html" %}
{% load static %}
{% block corecss %}
    {{ block.super }}
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
{% endblock corecss %}
{% block corejs %}
    {{ block.super }}
{% endblock corejs %}
{% block page_header %}
    <div class="text-center">
        <h2 class="service-page heading">Services</h2>
    </div>
{% endblock page_header %}
{% block content %}
    {% if search_query %}
        <div class="container mb-4">
            <div class="alert alert-info shadow-sm">
                Showing results for "<strong>{{ search_query }}</strong>". {% if search_results %}Found {{ search_results|length }} service{{ search_results|length|pluralize }}.{% else %}No services match your search yet.{% endif %}
            </div>
        </div>
        {% if search_results %}
            <div class="container mb-5">
                <div class="row g-4 space-row">
                    {% for s in search_results %}
                        <div class="col-12 col-sm-6 col-lg-3">
                            <div class="card custom-card">
                                {% if s.img_path %}
                                    <img src="{{ s.img_path.url }}"
                                         class="card-img-top"
                                         alt="{{ s.alt_text|default:s.name }}">
                                {% endif %}
                                <div class="card-body">
                                    <h5 class="card-title text-center heading">{{ s.name }}</h5>
                                </div>
                                <ul class="list-group list-group-flush">
                                    <li class="list-group-item">
                                        Duration:
                                        {% if s.duration_hours %}
                                            {{ s.duration_hours|floatformat:2 }}h
                                        {% else %}
                                            8.30am - 18.30pm(daily)
                                        {% endif %}
                                    </li>
                                    <li class="list-group-item">Price: ?{{ s.price|floatformat:2 }}</li>
                                </ul>
                                <div class="card-body">
                                    <a href="#" class="card-link btn btn-sm btn-primary">Details</a>
                                    <form action="{% url 'orders:add_to_cart' %}"
                                          method="post"
                                          class="d-inline">
                                        {% csrf_token %}
                                        <input type="hidden" name="service_id" value="{{ s.id }}">
                                        <button type="submit"
                                                class="btn btn-sm"
                                                aria-label="Add {{ s.name }} to cart">
                                            <img src="{% static 'images/add-to-cart.svg' %}" alt="Add to cart">
                                        </button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        {% endif %}
    {% endif %}
    <!-- Passes -->
    <div>
        <h3 class="text-center heading">Passes</h3>
        <div class="container fun-passes">
            <div class="row g-4 space-row">
                {% for s in doggy_daycare_pass %}
                    <div class="col-12 col-sm-6 col-lg-3">
                        <div class="card custom-card">
                            {% if s.img_path %}
                                <img src="{{ s.img_path.url }}"
                                     class="card-img-top"
                                     alt="{{ s.alt_text|default:s.name }}">
                            {% endif %}
                            <div class="card-body">
                                <h5 class="card-title text-center heading">{{ s.name }}</h5>
                            </div>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item">
                                    Duration:
                                    {% if s.duration_hours %}
                                        {{ s.duration_hours|floatformat:2 }}h
                                    {% else %}
                                        8.30am - 18.30pm(daily)
                                    {% endif %}
                                </li>
                                <li class="list-group-item">Price: ‚Ç¨{{ s.price|floatformat:2 }}</li>
                            </ul>
                            <div class="card-body">
                                <a href="#" class="card-link btn btn-sm btn-primary">Details</a>
                                <form action="{% url 'orders:add_to_cart' %}"
                                      method="post"
                                      class="d-inline">
                                    {% csrf_token %}
                                    <input type="hidden" name="service_id" value="{{ s.id }}">
                                    <button type="submit"
                                            class="btn btn-sm"
                                            aria-label="Add {{ s.name }} to cart">
                                        <img src="{% static 'images/add-to-cart.svg' %}" alt="Add to cart">
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
    <!-- Packages -->
    <div>
        <h3 class="text-center heading">Packages</h3>
        <div class="container fun-passes">
            <div class="row space-row">
                {% for s in doggy_grooming_packs %}
                    <div class="col-12 col-sm-6 col-lg-3">
                        <div class="card custom-card">
                            {% if s.img_path %}
                                <img src="{{ s.img_path.url }}"
                                     class="card-img-top"
                                     alt="{{ s.alt_text|default:s.name }}">
                            {% endif %}
                            <div class="card-body">
                                <h5 class="card-title text-center heading">{{ s.name }}</h5>
                            </div>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item">
                                    Duration:
                                    {% if s.duration_hours %}
                                        {{ s.duration_hours|floatformat:2 }}h
                                    {% else %}
                                        8.30am - 18.30pm(daily)
                                    {% endif %}
                                </li>
                                <li class="list-group-item">Price: ‚Ç¨{{ s.price|floatformat:2 }}</li>
                            </ul>
                            <div class="card-body">
                                <a href="#" class="card-link btn btn-sm btn-primary">Details</a>
                                <form action="{% url 'orders:add_to_cart' %}"
                                      method="post"
                                      class="d-inline">
                                    {% csrf_token %}
                                    <input type="hidden" name="service_id" value="{{ s.id }}">
                                    <button type="submit"
                                            class="btn btn-sm"
                                            aria-label="Add {{ s.name }} to cart">
                                        <img src="{% static 'images/add-to-cart.svg' %}" alt="Add to cart">
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
    <!-- Offers -->
    <div>
        <h3 class="text-center heading">Offers</h3>
        <div class="alert alert-warning wag-offer-alert text-center shadow-sm">
            <strong>Don‚Äôt forget!</strong> Check out our special offers ‚Äî more wag for less!üêæ
            <div class="container fun-passes">
                <div class="row space-row">
                    {% for s in pet_offers %}
                        <div class="col-12 col-sm-6 col-lg-3">
                            <div class="card custom-card">
                                {% if s.img_path %}
                                    <img src="{{ s.img_path.url }}"
                                         class="card-img-top"
                                         alt="{{ s.alt_text|default:s.name }}">
                                {% endif %}
                                <div class="card-body">
                                    <h5 class="card-title text-center heading">{{ s.name }}</h5>
                                </div>
                                <ul class="list-group list-group-flush">
                                    <li class="list-group-item">
                                        Duration:
                                        {% if s.duration_hours %}
                                            {{ s.duration_hours|floatformat:2 }}h
                                        {% else %}
                                            8.30am - 18.30pm(daily)
                                        {% endif %}
                                    </li>
                                    <li class="list-group-item">Price: ‚Ç¨{{ s.price|floatformat:2 }}</li>
                                </ul>
                                <div class="card-body">
                                    <a href="#" class="card-link btn btn-sm btn-primary">Details</a>
                                    <form action="{% url 'orders:add_to_cart' %}"
                                          method="post"
                                          class="d-inline">
                                        {% csrf_token %}
                                        <input type="hidden" name="service_id" value="{{ s.id }}">
                                        <button type="submit"
                                                class="btn btn-sm"
                                                aria-label="Add {{ s.name }} to cart">
                                            <img src="{% static 'images/add-to-cart.svg' %}" alt="Add to cart">
                                        </button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
    <div class="container mb-4">
        <div class="row">
            <div class="col-6">
                <h4>Doggy DayCare Park</h4>
                Opening Hours: Mon - Sat: 8.30am - 6.30pm
            </div>
            <div class="col-6 text-end mb-4">
                <h4>Dog Grooming Salon</h4>
                Opening Hours: Mon - Sat: 9.30am - 5.00pm
            </div>
        </div>
        <div class="row">
            <div class="col-12 text-center">
                <h5>Need to talk to someone about a Service?</h5>
                Phone: 123-456-7890
                <br>
                Submit Enquiry Form <a href="#">here</a>.
            </div>
        </div>
    </div>
{% endblock content %}
